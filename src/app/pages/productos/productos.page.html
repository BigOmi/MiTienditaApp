<ion-content [fullscreen]="true" class="bg-[#14405A] p-4 min-h-[100vh]">
  <div class="bg-white rounded-[32px] p-6 md:p-10 min-h-[80vh]">

    <!-- Encabezado: título + buscador + filtro + botón -->
    <div class="flex flex-col md:flex-row justify-between items-center mb-6 gap-4">
  <h1 class="text-2xl font-semibold text-gray-800">
    Productos
  </h1>

  <div class="flex items-center gap-3 w-full md:w-auto">
    <ion-searchbar
  [(ngModel)]="searchText"
  placeholder="Buscar producto..."
  show-clear-button="never"
  class="buscador-personalizado w-full max-w-[320px]"
></ion-searchbar>


    <ion-select
      interface="popover"
      [(ngModel)]="estadoFiltro"
      placeholder="Estado"
      class="text-black bg-white rounded-md min-w-[120px] h-9 px-2"
    >
      <ion-select-option value="todos">Todos</ion-select-option>
      <ion-select-option value="activos">Activos</ion-select-option>
      <ion-select-option value="inactivos">Inactivos</ion-select-option>
    </ion-select>

    <ion-select
      interface="popover"
      [(ngModel)]="categoriaSeleccionada"
      placeholder="Categoría"
      class="text-black bg-white rounded-md min-w-[120px] h-9 px-2"
    >
      <ion-select-option value="Todos">Todos</ion-select-option>
      <ion-select-option *ngFor="let cat of categorias" [value]="cat">{{ cat }}</ion-select-option>
    </ion-select>

    <button
      type="button"
      class="bg-[#2a8a7f] hover:bg-[#256c65] text-white text-sm font-semibold rounded-md px-5 py-2 flex items-center gap-2"
    >
    <span>Agregar Producto</span>
    <ion-icon name="add" class="text-lg"></ion-icon>
    </button>
  </div>
</div>


    <!-- Lista de productos -->
    <div class="space-y-6">
      <div
        *ngFor="let producto of productosFiltrados"
        class="bg-white rounded-xl p-4 shadow-md flex items-center justify-between"
        [class.opacity-50]="!producto.activo"
      >
        <!-- Imagen y detalles -->
        <div class="flex items-center space-x-6">
          <img
            [src]="producto.imagen"
            [alt]="producto.nombre"
            class="w-20 h-20 rounded-lg border border-gray-300 object-contain"
          />
          <div>
            <h3 class="text-xl font-semibold text-black">
              {{ producto.nombre }}
            </h3>
            <p class="text-gray-600 max-w-md leading-tight text-sm">
              {{ producto.descripcion }}
            </p>
            <p class="text-xs mt-1 text-gray-700">
              <strong>Precio Venta:</strong>
              <span class="text-[#2a8a7f]">${{ producto.precioVenta }}</span> mx
            </p>
            <p class="text-xs text-gray-700">
              <strong>Precio Compra:</strong> ${{ producto.precioCompra }} mx
            </p>
            <p class="text-xs text-gray-700">
              <strong>Stock:</strong> {{ producto.stock }}
            </p>
            <p class="text-xs text-gray-700">
              <strong>Categoría:</strong> {{ producto.categoria }}
            </p>
          </div>
        </div>

        <!-- Iconos acción -->
        <div class="flex items-center space-x-6 text-3xl">
          <ion-icon
            [name]="producto.activo ? 'ban-outline' : 'checkmark-circle-outline'"
            [class.text-yellow-400]="producto.activo"
            [class.text-green-500]="!producto.activo"
            class="cursor-pointer"
          ></ion-icon>
          <ion-icon name="create-outline" class="text-slate-500 cursor-pointer"></ion-icon>
          <ion-icon name="trash-outline" class="text-red-500 cursor-pointer"></ion-icon>
        </div>
      </div>
    </div>
  </div>
</ion-content>
